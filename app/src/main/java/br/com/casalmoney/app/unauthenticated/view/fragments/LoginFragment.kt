package br.com.casalmoney.app.unauthenticated.view.fragmentsimport android.os.Bundleimport android.util.Logimport androidx.fragment.app.Fragmentimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.Toastimport androidx.activity.addCallbackimport androidx.lifecycle.Observerimport androidx.lifecycle.ViewModelProviderimport androidx.navigation.fragment.findNavControllerimport br.com.casalmoney.app.Rimport br.com.casalmoney.app.databinding.FragmentLoginBindingimport br.com.casalmoney.app.unauthenticated.viewmodel.LoginViewModelclass LoginFragment : Fragment() {    private lateinit var binding: FragmentLoginBinding    private val viewModel: LoginViewModel by lazy {        ViewModelProvider(this).get(LoginViewModel::class.java)    }    override fun onCreateView(        inflater: LayoutInflater,        container: ViewGroup?,        savedInstanceState: Bundle?    ): View? {        binding = FragmentLoginBinding.inflate(inflater, container, false)        binding.viewModel = viewModel        binding.fragment = this        binding.lifecycleOwner = this        requireActivity().onBackPressedDispatcher.addCallback {            back(binding.root)        }        return binding.root    }    fun login(view: View) {        viewModel.login()        observer()    }    fun back(view : View) {        findNavController().popBackStack()    }    fun forgotPassword(view: View){        findNavController().navigate(R.id.action_loginFragment_to_recoverPasswordFragment)    }    private fun observer() {        viewModel.responseLogin.observe(viewLifecycleOwner,            Observer {            if(it.first) {                findNavController().navigate(R.id.action_loginFragment_to_mainActivity)            } else {                Toast.makeText(context, it.second?.message, Toast.LENGTH_SHORT).show()            }        })    }}